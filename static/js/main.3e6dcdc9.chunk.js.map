{"version":3,"sources":["images/header/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/AddPlacePopup.js","components/DelPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isLiked","likes","some","i","_id","isOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","item","Footer","Date","getFullYear","PopupWithForm","isOpen","title","buttonText","onClose","onSubmit","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","onChange","target","value","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","ImagePopup","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","DelPlacePopup","onDelPlace","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_handleResponse","data","body","JSON","stringify","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDelPlacePopupOpen","setDelPlacePopupOpen","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","setCurrentUser","setCards","closeAllPopups","all","getUserProfile","getInitialCards","userData","catch","error","console","log","handleEscClose","key","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","state","c","onSuccess","setUserAvatar","dataAvatar","setUserProfile","dataInfo","addNewCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e6dcdc9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from \"../images/header/header__logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Место\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn ? 'element__delete-button_active' : ''}`\r\n  );\r\n  const cardLikeButtonClassName = (\r\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\r\n  ); \r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <div className=\"element__img-wrap\">\r\n        <img className=\"element__image\" src={card.link} alt={`Это ${card.name}? Не похоже) Введите корректную ссылку.`} onClick={handleClick}/>\r\n      </div>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDelete} type=\"button\"></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__like_ui\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLike} type=\"button\"></button>\r\n          <p className=\"element__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from '../components/Card'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrap\">\r\n          <div className=\"profile__avatar-overlay\" onClick={onEditAvatar}></div>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <button className=\"profile__edit-button\" onClick={onEditProfile} type=\"button\"></button>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" onClick={onAddPlace} type=\"button\"></button>\r\n      </section>\r\n        \r\n      <section className=\"elements\">\r\n        {cards.map((item) => (<Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />))}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; {new Date().getFullYear()} Made by Alexey Rudoy. Designed by Yandex.Praktikum.\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm({ isOpen, title, name, buttonText, onClose, onSubmit, children }) {\r\n\r\n  return (\r\n      <section className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} >\r\n        <div className=\"popup__container\">\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          <form className={`popup__form popup__form_type_${name}`} onSubmit={onSubmit} name={`popup_form_${name}`} noValidate>\r\n            {children}\r\n            <button className=\"popup__save-button\" type=\"submit\"><span className=\"popup__button-span\">{buttonText}</span></button>\r\n          </form>\r\n          <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n        </div>\r\n      </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser.about && currentUser.name) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm isOpen={isOpen} title={'Редактировать профиль'} name={'profile'} buttonText={'Сохранить'} onSubmit={handleSubmit} onClose={onClose}>\r\n      <div className=\"popup__form-wrap\">\r\n        <input className=\"popup__input popup__input_type_top\" onChange={handleChangeName} value={name} id=\"name-input\" type=\"text\" placeholder=\"Имя\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span className=\"popup__input-error name-input-error\"></span>\r\n      </div>\r\n      <div className=\"popup__form-wrap\">\r\n        <input className=\"popup__input popup__input_type_bottom\" onChange={handleChangeAbout} value={description} id=\"about-input\" type=\"text\" placeholder=\"О себе\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className=\"popup__input-error about-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n  \r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    }, () => {inputRef.current.value = ''})\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm  isOpen={isOpen} title={'Обновить аватар'} name={'avatar'} buttonText={'Сохранить'} onSubmit={handleSubmit} onClose={onClose}>\r\n      <div className=\"popup__form-wrap popup__form-wrap_type_avatar\">\r\n        <input className=\"popup__input\" ref={inputRef} id=\"input-link\" type=\"url\" placeholder=\"Ссылка на аватарку\" name=\"avatar\" required />\r\n        <span className=\"popup__input-error input-link-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section className={`popup popup_style_opacity popup_type_mesto ${card.link ? 'popup_opened' : ''}`} >\r\n      <div className=\"popup__wrap\">\r\n        <figure className=\"popup__figure\">\r\n          <img src={card.link} alt={card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n        </figure>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  \r\n  const [namePlace, setNamePlace] = React.useState('');\r\n  const [linkPlace, setLinkPlace] = React.useState('');\r\n\r\n  function handleChangeNamePlace(evt) {\r\n    setNamePlace(evt.target.value);\r\n  }\r\n\r\n  function handleChangeLinkPlace(evt) {\r\n    setLinkPlace(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: namePlace,\r\n      link: linkPlace,\r\n    }, () => {\r\n      setNamePlace('');\r\n      setLinkPlace('');\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <PopupWithForm isOpen={isOpen} title={'Новое место'} name={'mesto'} buttonText={'Создать'} onSubmit={handleSubmit} onClose={onClose}>\r\n      <div className=\"popup__form-wrap\">\r\n        <input className=\"popup__input popup__input_type_top\" onChange={handleChangeNamePlace} value={namePlace} id=\"title-input\" type=\"text\" placeholder=\"Название\" name=\"name\" minLength=\"2\" maxLength=\"30\" required />\r\n        <span className=\"popup__input-error title-input-error\"></span>\r\n      </div>\r\n      <div className=\"popup__form-wrap\">\r\n        <input className=\"popup__input popup__input_type_bottom\" onChange={handleChangeLinkPlace} value={linkPlace} id=\"link-input\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required />\r\n        <span className=\"popup__input-error link-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction DelPlacePopup({ isOpen, onClose, onDelPlace }) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onDelPlace();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} title={'Вы уверены?'} name=\"delete\" buttonText={'Да'}/>\r\n  )\r\n}\r\n\r\nexport default DelPlacePopup;","class Api {\r\n  constructor({address, token}) {\r\n    this._address = address;\r\n    this._token = token;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n\r\n  // Загрузка информации о пользователе с сервера\r\n  getUserProfile() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Редактирование профиля\r\n  setUserProfile(data) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Обновление аватара пользователя\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Загрузка карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Добавление новой карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Удаление карточки\r\n  removeCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n  \r\n  // Постановка / снятие лайка\r\n  changeLikeCardStatus(id, isLiked) {\r\n      return fetch(`${this._address}/cards/likes/${id}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n  .then(this._handleResponse)\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n  token: \"68ca3bd5-b72c-4fc3-8560-fd3e63ce58a1\",\r\n});\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DelPlacePopup from './DelPlacePopup';\r\nimport { api } from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isDelPlacePopupOpen, setDelPlacePopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [cardForDelete, setCardForDelete] = React.useState(null);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserProfile(), api.getInitialCards()])\r\n      .then(([userData, data]) => {\r\n        setCurrentUser(userData);\r\n        setCards(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    function handleEscClose(evt) {\r\n      const ESC_KEYCODE = 'Escape';\r\n      evt.key === ESC_KEYCODE && closeAllPopups();\r\n    }\r\n\r\n    function handleOverlayClose(evt) {\r\n      const evtTarget = evt.target;\r\n      if (evtTarget.classList.contains('popup')) {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleOverlayClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOverlayClose);\r\n      window.removeEventListener('keydown', handleEscClose);\r\n    };\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardDeleteRequest(card) {\r\n    console.log(card)\r\n    setDelPlacePopupOpen(true);\r\n    setCardForDelete(card)\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.removeCard(cardForDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter(c => c._id !== cardForDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      }); \r\n  }\r\n\r\n  function handleCardClick(item) {\r\n    setSelectedCard(item);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setDelPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserProfile(data)\r\n      .then((dataInfo) => {\r\n        setCurrentUser(dataInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data, onSuccess) {\r\n    api.setUserAvatar(data)\r\n      .then((dataAvatar) => {\r\n        setCurrentUser(dataAvatar);\r\n        closeAllPopups();\r\n        onSuccess();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data, onSuccess) {\r\n    api.addNewCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n        onSuccess();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.removeCard(cardForDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter(c => c._id !== cardForDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      }); \r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"page\">\r\n          \r\n          <Header />\r\n\r\n          <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleCardDeleteRequest} cards={cards}/>\r\n\r\n          <Footer />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} /> \r\n\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} /> \r\n\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n\r\n          <DelPlacePopup isOpen={isDelPlacePopupOpen} onClose={closeAllPopups} onDelPlace={handleCardDelete} />\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}